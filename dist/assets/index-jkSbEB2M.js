(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();class r{nome;vida=100;mana=100;level;tipo;descricao;constructor(e,s){this.nome=e,this.level=s}obterInsignia(){return this.level>=5?`Implacável ${this.constructor.tipo}`:`${this.constructor.tipo} iniciante `}static verificarVencedor(e,s){return e.level===s.level?"Empate!!!":e.level>s.level?`${e.constructor.tipo} ${e.nome} é o vencedor!`:`${s.constructor.tipo} ${s.nome} é o vencedor!`}}class v extends r{static tipo="Mago";static descricao="O mago é implacável!";constructor(e,s,t,i,o){super(e,s),this.elementoMagico=t,this.levelMagico=i,this.inteligencia=o}obterInsignia(){return this.level>=10&&this.levelMagico>=5&&this.inteligencia>=5?`Mestre do ${this.elementoMagico}`:super.obterInsignia()}}class c extends r{static tipo="Arqueiro";static descricao="Voce tem o meu arco!";constructor(e,s,t,i){super(e,s),this.destreza=t,this.pontaria=i}obterInsignia(){return console.log(c.constructor.descricao),this.level>=10&&this.destreza>=5&&this.pontaria>=5?"Dominador de flechas":super.obterInsignia()}}class m extends r{static tipo="ArqueiroMago";static descricao="Detentor de lancas e flechas mágicas!";constructor(e,s,t,i,o,a,g){super(e,s),this.ladoArqueiro=new c(e,s,t,i),this.ladoMago=new v(e,s,o,a,g)}obterInsignia(){return`${this.ladoArqueiro.obterInsignia()} e ${this.ladoMago.obterInsignia()}`}}const l=document.getElementById("fundo-modal"),d=document.getElementById("modal"),p=d.querySelector(".mensagem"),f=document.getElementById("fechar-botao"),h=()=>{l.classList.remove("visivel"),d.classList.remove("visivel")};f.addEventListener("click",h);l.addEventListener("click",h);const u=(n="")=>{p.innerText=n,d.classList.add("visivel"),l.classList.add("visivel")};class S{personagensSelecionados;constructor(e){this.ulPersonagens=document.querySelector("ul#personagens"),this.personagens=e,this.personagensSelecionados=[],this.escutarEventoDuelo()}render(){this.ulPersonagens.innerHTML="",this.personagens.forEach(e=>{const s=this.criaPersonagem(e);this.ulPersonagens.appendChild(s)})}criaPersonagem=e=>{const s=document.createElement("li");s.classList.add("personagem",e.constructor.tipo);const t=this.personagensSelecionados.indexOf(e)!==-1;t&&s.classList.add("selecionado"),s.innerHTML=`
      <div class="container-superior"> <div class="cabecalho"> <div class="combate"></div> <div class="level"> <button class="diminuir-level">-</button> <p class="level-texto">Level ${e.level}</p> <button class="aumentar-level">+</button> </div> </div> <div class="container-imagem"> <div class="imagem"></div> <div class="container-tipo"> <h2 class="tipo"></h2> </div> </div> <div class="container-nome"> <h3 class="nome">${e.nome}</h3> </div> <div class="container-descricao"> <p class="descricao">${e.constructor.descricao}</p> </div> </div> <div class="container-inferior"> <img src="/img/icone-mana.png" class="icone-mana"> <p class="insignia">${e.obterInsignia()}</p> <img src="/img/icone-vida.png" class="icone-vida"> <h4 class="mana">${e.mana}</h4> <h4 class="vida">${e.vida}</h4> </div>
    `;const i=s.querySelector(".level");return i.onclick=o=>{o.stopPropagation(),o.target.classList.contains("diminuir-level")&&e.diminuirLevel(),o.target.classList.contains("aumentar-level")&&e.aumentarLevel(),this.render()},s.onclick=()=>{if(!(this.personagensSelecionados.length===2)||t){if(s.classList.toggle("selecionado"),!t)return this.adicionaSelecao(e);this.removeSelecao(e)}},s};adicionaSelecao=e=>{this.personagensSelecionados.push(e),this.render()};removeSelecao=e=>{const s=this.personagensSelecionados.indexOf(e);this.personagensSelecionados.splice(s,1),this.render()};escutarEventoDuelo=()=>{document.querySelector(".botao-duelar").addEventListener("click",()=>{if(this.personagensSelecionados.length<2)return u("Selecione 2 personagens");const s=r.verificarVencedor(this.personagensSelecionados[0],this.personagensSelecionados[1]);u(s),this.personagensSelecionados.splice(0,this.personagensSelecionados.length),this.render()})}}const L=new v("Alice",11,"fogo",8,9),b=new c("Ravena",15,9,9),y=new m("Héstia",22,5,6,"SubMundo",11,15),M=[L,b,y];new S(M).render();
